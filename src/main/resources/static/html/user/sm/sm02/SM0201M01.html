<!DOCTYPE html>
<html lang="ko">

<style>

.add_btn_small{
    display: inline-block;
    float: right;
    padding: 0px;
}

.add_btn_small a {
    display: inline-block;
    width: 33px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    border: 1px solid #dbdbdb;
    color: #444;
    background: #ffffff;
    box-shadow: 1px 1px rgba(0,0,0,0.15);
}


</style>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="/static/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="/static/bootstrap/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="/static/bootstrap/css/dashboard.css">
	<link rel="stylesheet" href="/static/bootstrap/css/bootstrap-datepicker.css">
	<link rel="stylesheet" href="/static/fontawesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="/static/css/ax5/ax5grid.css" />
	<link rel="stylesheet" href="/static/css/ax5/ax5mask.css" />
	<link rel="stylesheet" href="/static/css/ax5/ax5modal.css" />
	<link rel="stylesheet" href="/static/css/ax5/ax5toast.css" />
	<link rel="stylesheet" href="/static/css/jstree/style.min.css" />
	
	<link rel="stylesheet" href="/static/css/gnb.css" />
	<link rel="stylesheet" href="/static/css/main.css" />
	<link rel="stylesheet" href="/static/css/sub.css" />
	<link rel="stylesheet" href="/static/css/common.css" />
	
	<script src="/static/js/jquery-3.5.1.min.js"></script>
	<script src="/static/js/jquery.serializeObject.js"></script>
	<script src="/static/bootstrap/js/bootstrap.min.js"></script>
	<script src="/static/bootstrap/js/bootstrap-datepicker.min.js"></script>
	<script src="/static/bootstrap/js/bootstrap-datepicker.ko.min.js"></script>
	<script src="/static/js/ax5/ax5core.min.js"></script>
	<script src="/static/js/ax5/ax5grid.min.js"></script>
	<script src="/static/js/ax5/ax5mask.min.js"></script>
	<script src="/static/js/ax5/ax5modal.min.js"></script>
	<script src="/static/js/ax5/ax5toast.min.js"></script>
	<script src="/static/js/jstree/jstree.min.js"></script>
	<script src="/static/js/global.js"></script>
	 <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
	
</head>


<body>
	<div id="head_area"></div>
	<div id="top_area">
		<!-- 페이지 타이틀 -->
		<h3 class="location">  <span class="page_tit"></span></h3>
			<!-- 로그아웃버튼 -->
			<div class="btn_area">
				<a id="logoutBtn"><button class="logout_btn">Logout</button></a>
				<a href="/static/html/admin/admin.html" target="_blank">
				<button class="bg_b">Admin</button>
				</a>
			</div>
	</div>
	
	<div id="main_area">
		<!-- 페이지 상단 -->
		<div class="contents no_bg">
	      <ul class="btn_ul">
	        <li class="btn_r">
	        <a onclick = "gridView.setData(0);">
	          <button class="bg_gray">검 색</button>
	          <button class="bg_gray">재고이동</button>
	         </a>
	        </li>
	      </ul>
    	</div>
		  <!-- 검색 콘텐츠 -->
    	<div class="contents">
	        <div class="form-inline form-group">
	        	<span style="font-size: 15px; font-weight: bold; padding-right:10px;">프로젝트기간</span>
					<input id="strtDt" class="form-control" type="date" > <span>~</span> <input id="endDt" class="form-control" type="date">
	        	<span style="font-size: 15px; font-weight: bold; padding-left:20px;">출고지</span>
					<select id="coCd" class="form-control"></select>
				<span style="font-size: 15px; font-weight: bold; padding-left:20px;">입고지</span>
					<select id="coCd" class="form-control"></select>
	        </div>
	        <div style="display:none;">
	       	 <select id="searchPrdtStkn" ></select>
	       	 <select id="searchPrdtSize" ></select>
	       	 <select id="searchPrdtErqk"></select>
	        </div>
    	</div>
    	<div class="row">
			<div data-ax5grid="first-grid" data-ax5grid-config="{}" style="height: 600px; width: 100%"></div>
		</div>
	</div>
		
</body>
</html>

<script type="text/javascript">

	var authId = null;
	var authRole = null;
	var actionType = null;
	var firstGrid = new ax5.ui.grid();
	
	$(document).ready(function() {
	    $("#head_area").load("/static/html/header.html");
	    setMenuAuth();
		//coCdCombo.initCombo();
		firstGrid.setConfig({
	    	showRowSelector: true,
	    	multipleSelect: false,
	        target: $('[data-ax5grid="first-grid"]'),
	        header: {
	        	 selector: false
	        },
	        body: {
	        	 onClick: function () {
	                this.self.select(this.dindex);
	            },
	            onDBLClick: function () {
	            	updateProjectModal("U");
	            }, 
	        },
	        page: {
	            navigationItemCount: 9,
	            height: 30,
	            display: true,
	            firstIcon: '<i class="fa fa-step-backward" aria-hidden="true"></i>',
	            prevIcon: '<i class="fa fa-caret-left" aria-hidden="true"></i>',
	            nextIcon: '<i class="fa fa-caret-right" aria-hidden="true"></i>',
	            lastIcon: '<i class="fa fa-step-forward" aria-hidden="true"></i>',
	            onChange: function () {
	            	gridView.setData(this.page.selectPage);
	            }
	        },
	        columns: [
	            {key: "coCd", label: "출고회사"},
	            {key: "strtDt", label: "재고주체"},
	            {key: "endDt", label: "판매유형"},
	            {key: "prjctNm", label: "제조사"},
	            {key: "makrCd", label: "제품"},
	            {key: "mngId", label: "수입 구분"},
	            {key: "totWt", label: "이동 수량"},
	            {key: "tnkeyYn", label: "기준 단가"},
	            {key: "creatDttm", label: "출고지"},
	            {key: "creatDttm", label: "입고회사"},
	            {key: "creatDttm", label: "입고지"},
	            {key: "creatDttm", label: "운송일자"},
	            {key: "creatDttm", label: "최종 변경일"},
	        ]
	    });
		getData(0);
	})
	
	
	// 권한에 따른 메뉴 보여주기
	function setMenuAuth() {
		var formData = {
			"authInfo" : jwt.authInfo
		}
		postAjax("/selectMenuAuth", formData, null, function(data) {
			checkMenuAuth(data.accessList);
		});
	}
	
	// 권한에 따른 메뉴 보여주기
	function checkMenuAuth(accessList) {
		var html = "";
		$.each(accessList, function(idx, item){
		   if(item.upMenuId != "MENU100" && item.menuType == "FOLDER" && item.useYn == 'Y') {
		      html += '<li>';
		      html += '  <img src="/static/img/svg/menu_02.svg">';
		      html += '   <a>'+item.menuNm+'</a> <!-- 서브메뉴 -->';
		      html += '   <div class="sub_menu">';
		      html += '      <dl id="'+item.menuId+'"></dl>';
		      html += '   </div>';
		      html += '</li>';
		   }
		});
		$('.menu').html(html);
		
		$.each(accessList, function(idx, item){
		   if(item.menuType == "HTML" && item.useYn == 'Y') {
		      html = '<dl><dd><a href="'+item.menuUrl+'">'+item.menuNm+'</a></dd></dl>';
		      $("#"+item.upMenuId).append(html);
		   }
		});
	}
	
	// 권한에 따른 메뉴 보여주기
	function setMenuIdx(url) {
	   $.get(url, function(data) {
	      $(".main").html(data);
	   });
	   setCookie("menuIdx", url, 1);
	}

	$('#logoutBtn').on('click', function() {
	   deleteCookie("jwtToken");
	   deleteCookie("menuIdx");
	   location.href = "/";
	
	});
</script>
