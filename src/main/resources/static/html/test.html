<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="icon" href="/static/favicon.ico"  type="image/x-icon">
	<link rel="stylesheet" href="/static/css/ax5/ax5grid.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<script src="/static/js/global.js"></script>
	<script src="/static/js/jquery-3.5.1.min.js"></script>
	<script src="/static/js/ax5/ax5core.min.js"></script>
	<script src="/static/js/ax5/ax5grid.min.js"></script>
</head>
<script type="text/javascript">
	
	var authorizationToken = getCookie("jwtToken");
	console.log("쿠키 저장된 값: "+ authorizationToken);

	$(document).ready(function() {
		$.ajaxSetup({
			contentType: "application/json; charset=utf-8",
			beforeSend: function (request)
            {
                request.setRequestHeader("Authorization", authorizationToken);
            }
		});
		
        var firstGrid = new ax5.ui.grid();
 
        firstGrid.setConfig({
            target: $('[data-ax5grid="first-grid"]'),
            columns: [
                {key: "id", label: "아이디"},
                {key: "email", label: "이메일"},
                {key: "password", label: "패스워드"}
            ]
        });
 
        // {a: "A", b: "A01", c:"C", d:"D", e:"E", f:"F", g:"G"}
        // 값이 없는 h 는 표현안됨
//         firstGrid.setData(gridList);
        // 그리드 데이터 가져오기
        $.ajax({
            method: "GET",
            url: "/api/user/selectAllUser",
            success: function (res) {
                firstGrid.setData(res.userList);
            }
        });
        
	})
	
	function testAction() {
		$.post(
			"/api/test",
			function(data, status, request) {
				alert(data);
			}
		);
	}
	
	function selectAllUser() {
		$.get(
			"/api/user/selectAllUser",
			function(data, status, request) {
				alert(data);
			}
		);
	}
	
</script>
<body class="jui">
	<div align="center">
		<h2>테스트 페이지</h2>
		<a id="loginBtn" class="btn focus" onclick="testAction();">테스트 조회</a>
		<a id="loginBtn" class="btn focus" onclick="selectAllUser();">사용자 전체 조회</a>
		<div data-ax5grid="first-grid" data-ax5grid-config="{}" style="height: 500px; width: 50%"></div>
	</div>
</body>
</html>