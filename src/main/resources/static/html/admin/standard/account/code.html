<script type="text/javascript">
	
	var firstGrid = new ax5.ui.grid();
	var codeId = null;
	var codeRole = null;
	var selCheck = "0";
	
	$(document).ready(function() {
		
        firstGrid.setConfig({
        	showRowSelector: true, //true
        	multipleSelect: false,
            target: $('[data-ax5grid="first-grid"]'),
            columns: [
           	 	  {key: "codeId", label: "코드ID"},
                {key: "codeNm", label: "코드명"},
                {key: "codeKind", label: "분류"},
                {key: "codeDesc", label: "설명"},
                {key: "createDt", label: "등록일"}
            ],
            /*body: {
            	align:"center",
                onClick: function(){
                	this.self.select(this.dindex);
                	var paramData = {
                			codeId: this.self.select(this.dindex).list[this.dindex].codeId,
                			codeNm: this.self.select(this.dindex).list[this.dindex].codeNm,
                			codeKind: this.self.select(this.dindex).list[this.dindex].codeKind,
                			codeDesc: this.self.select(this.dindex).list[this.dindex].codeDesc,
                	};
                	openModal("/static/html/admin/standard/account/updateCode.html", 600, 300, "코드수정");	
                	
                	
                }
            }*/
        });
        
        getData();
	})
	
	function getData() {
		postAjax("/admin/standard/account/selectCodeList", null, null, function(data){
			firstGrid.setData(data.codeList);
		});
	}
	
	function createCodeModal() {
		openModal("/static/html/admin/standard/account/createCode.html", 600, 300, "코드등록");
	}
	

	function updateCodeModal() {
		if(selectGridValidation(firstGrid)) return;
		openModal("/static/html/admin/standard/account/updateCode.html", 600, 300, "코드수정");
	}
	
	function deleteCode() {
		if(selectGridValidation(firstGrid)) return;
		if(!confirm("삭제하시겠습니까?")) return;
		var formData = {
				"codeId" : firstGrid.getList("selected")[0].codeId
		}
		deleteAjax("/admin/standard/account/deleteCode", formData, null, function(data){
			if(data.resultCode == 200){
				alert(data.resultMessage);
				getData();
			}
		});
	}
	
</script>
<body>
	<div class="row">
		<span style="font-size: 25px; font-weight: bold;">계정 과목 코드 관리</span>
		<div style="float: right;">
			<a id="loginBtn" class="btn btn-default btn-sm" onclick="createCodeModal();">등록</a>
			<a id="loginBtn" class="btn btn-default btn-sm" onclick="updateCodeModal();">수정</a>
			<a id="loginBtn" class="btn btn-default btn-sm" onclick="deleteCode();">삭제</a>
		</div>
	</div>
	<div class="row">
		<div data-ax5grid="first-grid" data-ax5grid-config="{}" style="height: 500px; width: 100%"></div>
	</div>
</body>
</html>
